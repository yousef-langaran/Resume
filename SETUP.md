# راهنمای راه‌اندازی پنل ادمین و دیتابیس

## ۱. نصب پکیج‌ها

```bash
npm install
```

## ۲. فایل محیطی (.env)

فایل `.env` در ریشه پروژه بسازید (می‌توانید از `.env.example` کپی کنید):

```env
DATABASE_URL="file:./dev.db"
ADMIN_EMAIL="admin@youseflangaran.com"
ADMIN_PASSWORD="admin123"
JWT_SECRET="یک-رشته-تصادفی-برای-امنیت"
```

برای ایمیل فرم تماس (اختیاری):
```env
RESEND_API_KEY="re_xxxx"
RESEND_FROM_EMAIL="noreply@yourdomain.com"
CONTACT_EMAIL="youseflangaran65@gmail.com"
```

## ۳. ساخت دیتابیس

```bash
npx prisma db push
```

## ۴. ورود داده اولیه (Seed)

```bash
npm run db:seed
```

- **ایمیل ادمین:** مقدار `ADMIN_EMAIL` در .env
- **رمز عبور:** مقدار `ADMIN_PASSWORD` در .env

## ۵. اجرای پروژه

```bash
npm run dev
```

## پنل ادمین

- **آدرس:** `/admin`
- **ورود:** با ایمیل و رمز عبور تنظیم‌شده در .env

بخش‌های قابل مدیریت:
- پروفایل
- سوابق کاری
- تحصیلات
- مهارت‌ها
- خدمات
- پروژه‌ها
- مقالات
- نظرات
- آمار
- اطلاعات تماس

## ویژگی‌های چند زبانه (Bilingual)

سایت از دو زبان **فارسی** و **انگلیسی** پشتیبانی می‌کند:

### تغییر زبان
- دکمه تغییر زبان در گوشه بالا سمت چپ صفحه قرار دارد
- با کلیک روی `EN / فا` می‌توانید بین دو زبان جابجا شوید

### RTL و LTR
- در زبان فارسی، سایت به صورت **راست به چپ (RTL)** نمایش داده می‌شود
- در زبان انگلیسی، سایت به صورت **چپ به راست (LTR)** نمایش داده می‌شود

### ورود محتوای دوزبانه در پنل ادمین
- در صفحات ویرایش، دو تب **فارسی** و **English** وجود دارد
- محتوای هر زبان را جداگانه وارد کنید
- فیلدهای مشترک (مانند ایمیل، تلفن، لینک‌ها) فقط یکبار وارد می‌شوند

### فونت فارسی
- فونت **Vazirmatn** برای نمایش متون فارسی استفاده می‌شود

## ثبت‌نام کاربران و رزومه شخصی

هر کاربر می‌تواند ثبت‌نام کند، رزومه خود را بسازد و لینک اختصاصی دریافت کند.

### آدرس‌ها
- **ثبت‌نام:** `/register` — نام، ایمیل، رمز عبور (حداقل ۶ کاراکتر)
- **ورود:** `/login` — ورود کاربران (غیر از ادمین)
- **داشبورد کاربر:** `/dashboard` — پس از ورود؛ ویرایش پروفایل و سابقه کاری
- **رزومه عمومی:** `/resume/[slug]` — مثلاً `/resume/ali-rezaei` برای مشاهده رزومه آن کاربر

### منطق نمایش
- **صفحه اصلی (/):** رزومهٔ «پیش‌فرض» نمایش داده می‌شود (اولین کاربر ثبت‌نام‌شده یا دادهٔ قدیمی بدون کاربر).
- **صفحه رزومه (/resume/xxx):** فقط رزومهٔ کاربر با اسلاگ `xxx` نمایش داده می‌شود.

### پس از تغییر اسکیمای دیتابیس
اگر مدل `User` و فیلدهای `userId` را اضافه کرده‌اید، حتماً یک‌بار اجرا کنید:

```bash
npx prisma db push
npx prisma generate
```

داده‌های قبلی (پروفایل، سوابق و …) با `userId` خالی باقی می‌مانند و به‌عنوان رزومه پیش‌فرض روی صفحه اصلی نمایش داده می‌شوند.
